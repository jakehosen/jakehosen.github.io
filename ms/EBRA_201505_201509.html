<!DOCTYPE html>
<html>
  <head>
	  



<style type="text/css">


#set_range {
		   float:left;
		   width:900px;
		   height:100px;
			}

#wrap {
	clear:both;
   width:600px;
   margin:0 auto;
		}
#left_col {
float:left;
   display:inline-block;
   width:33%;
		}
#right_col {
   display:inline-block;
   width:33%;
	}
#center_col {
	float:right;
   display:inline-block;
   width:33%;
	}
	
	</style>

    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7; IE=EmulateIE9">
    <title>E. Branch Passumpsic</title>
    <!--[if IE]>
    <script type="text/javascript" src="../excanvas.js"></script>
    <![endif]-->
    <!--
    For production (minified) code, use:
    <script type="text/javascript" src="dygraph-combined.js"></script>
    -->
    <script type="text/javascript" src="dygraph-combined-dev.js"></script>

    <script type="text/javascript" src="data.js"></script>
    <script type="text/javascript" src="synchronizer.js"></script>		
  </head>
  <body>
    <h3>E. Branch Passumpsic Sonde Data</h3>
    <div id="div_g" style="width:825px; height:225px;"></div>







    <script type="text/javascript">
	
	window.update = function() {
	    var chk = document.getElementById('chk-sync').checked;
    
	    if(chk) {
	        sync = Dygraph.synchronize(g,f);
	    }
	    else {
	        sync.detach();
		    for (i = 0; i < 3; ++i) {
				gs[i].updateOptions({
	                dateWindow: null,
				    valueRange: null
			    });
	        }	
	    }
	}
	
	
      g = new Dygraph(
            document.getElementById("div_g"),
"ebra_201505_201509.csv",
		  
 {
              visibility: [true, true, true,true,true,true,true,true,true],
              drawXGrid: false,
              drawYGrid: false,
	 			drawPoints: true,
	  			strokeWidth: 0,
	 pointSize: 2

            }
          );
      setStatus();

      function setStatus() {
        document.getElementById("visibility").innerHTML =
          g.visibility().toString();
      }

      function change(el) {
        g.setVisibility(parseInt(el.id), el.checked);
        setStatus();
      }

    </script>

    <div id="div_f" style="width:825px; height:225px;"></div>


	<div id="set_range">
	Y-Min: <input type="text" id="min" value=0>
	Y-Max: <input type="text" id="max" value=1000>

	<button onclick="myFunction()">Set</button>
</div>

<div id="wrap">
    <div id="left_col">
  <p><b>Select Top Variables:</b></p>
  <p>
    <input type=checkbox id="0"checked onClick="change(this)">
    <label for="0"> Temperature</label><br/>
    <input type=checkbox id="1"checked onClick="change(this)">
    <label for="1"> pH</label><br/>
    <input type=checkbox id="2"checked onClick="change(this)">
    <label for="2"> Conductivity</label><br/>
    <input type=checkbox id="3"checked onClick="change(this)">
    <label for="3"> DO</label><br/>
    <input type=checkbox id="4"checked onClick="change(this)">
    <label for="4"> Turbidity</label><br/>
    <input type=checkbox id="5"checked onClick="change(this)">
    <label for="5"> Temp-Cor fDOM (QSU)</label><br/>
    <input type=checkbox id="6"checked onClick="change(this)">
    <label for="6"> Full-Cor fDOM (QSU)</label><br/>	
    <input type=checkbox id="7"checked onClick="change(this)">
    <label for="7"> fDOM (QSU)</label><br/>
    <input type=checkbox id="8"checked onClick="change(this)">
    <label for="8"> Discharge (CFS)</label><br/>	  
  </p>
  </p>
    </div>
	
    <div id="center_col">
  <p><b>Select Middle Variables:</b></p>
  <p>
    <input type=checkbox id="0"checked onClick="change2(this)">
    <label for="0"> Temperature</label><br/>
    <input type=checkbox id="1"checked onClick="change2(this)">
    <label for="1"> pH</label><br/>
    <input type=checkbox id="2"checked onClick="change2(this)">
    <label for="2"> Conductivity</label><br/>
    <input type=checkbox id="3"checked onClick="change2(this)">
    <label for="3"> DO</label><br/>
    <input type=checkbox id="4"checked onClick="change2(this)">
    <label for="4"> Turbidity</label><br/>
    <input type=checkbox id="5"checked onClick="change2(this)">
    <label for="5"> Temp-Cor fDOM (QSU)</label><br/>
    <input type=checkbox id="6"checked onClick="change2(this)">
    <label for="6"> Full-Cor fDOM (QSU)</label><br/>	
    <input type=checkbox id="7"checked onClick="change2(this)">
    <label for="7"> fDOM (QSU)</label><br/>
    <input type=checkbox id="8"checked onClick="change2(this)">
    <label for="8"> Discharge (CFS)</label><br/>	  
  </p>
  </p>
    </div>
		
    <div id="right_col">
  <p>
      <p><b>Select Bottom Variables:</b></p>
	  
    <input type=checkbox id="0"checked onClick="change1(this)">
    <label for="0"> Temperature</label><br/>
    <input type=checkbox id="1"checked onClick="change1(this)">
    <label for="1"> pH</label><br/>
    <input type=checkbox id="2"checked onClick="change1(this)">
    <label for="2"> Conductivity</label><br/>
    <input type=checkbox id="3"checked onClick="change1(this)">
    <label for="3"> DO</label><br/>
    <input type=checkbox id="4"checked onClick="change1(this)">
    <label for="4"> Turbidity</label><br/>
    <input type=checkbox id="5"checked onClick="change1(this)">
    <label for="5"> Temp-Cor fDOM (QSU)</label><br/>
    <input type=checkbox id="6"checked onClick="change1(this)">
    <label for="6"> Full-Cor fDOM (QSU)</label><br/>	
    <input type=checkbox id="7"checked onClick="change1(this)">
    <label for="7"> fDOM (QSU)</label><br/>
    <input type=checkbox id="8"checked onClick="change1(this)">
    <label for="8"> Discharge (CFS)</label><br/>	  
  </p>
  
    </div>
</div>



    <script type="text/javascript">
      f = new Dygraph(
            document.getElementById("div_f"),
"ebra_201505_201509.csv",
		  
 {
              visibility: [true, true, true,true,true,true,true,true,true],
              drawXGrid: false,
              drawYGrid: false,
	 			drawPoints: true,
	  			strokeWidth: 0,
	 pointSize: 2,
	 	 showRangeSelector: true
            }
          );
      setStatus1();

      function setStatus1() {
        document.getElementById("visibility").innerHTML =
          f.visibility().toString();
      }

      function change1(el) {
        f.setVisibility(parseInt(el.id), el.checked);
        setStatus();

		
      }
	  
	
    </script>


<script>
	  var sync = Dygraph.synchronize(f,g);

	  function update() {
	      var zoom = document.getElementById('chk-zoom').checked;
	      var selection = document.getElementById('chk-selection').checked;
	      sync.detach();
	      sync = Dygraph.synchronize(f,g, {
	      zoom: true,
	      selection: true,
		  range: false			  
	         });
	       }
	  
   function zoomGraphY(minValue, maxValue) {
      g.updateOptions({
      valueRange: [minValue, maxValue]
      });
      showYDimensions(g.yAxisRanges());
      }

 function calcMinMax(g) {
  var ymin = g.getValue(0, 1), ymax = g.getValue(0, 1), v;
    for (var i = 0; i < g.numRows(); i++) {
      for (var j = 1; j < g.numColumns(); j++) {
	        y = g.getValue(i, j);
	        if (y < ymin) {
	          ymin = y;
	        } else if (y > ymax) {
	          ymax = y;
	        }
	      }
	    }
	    return [ymin, ymax];
	  }


  function calcMin(g) {
   var ymin = g.getValue(0, 1), ymax = g.getValue(0, 1), v;
     for (var i = 0; i < g.numRows(); i++) {
       for (var j = 1; j < g.numColumns(); j++) {
 	        y = g.getValue(i, j);
 	        if (y < ymin) {
 	          ymin = y;
 	        } else if (y > ymax) {
 	          ymax = y;
 	        }
 	      }
 	    }
 	    return [ymin];
 	  }




function myFunction() {
	var minValue = document.getElementById("min").value;
	var maxValue = document.getElementById("max").value;
    g.updateOptions({
    valueRange: [minValue, maxValue]
    });
    showYDimensions(g.yAxisRanges());
	}
	  
	  
</script>


<!--
    <p><b>Zoom operations:</b></p>
    <p>
      <input type="button" value="Y (3,5)" onclick="zoomGraphY(3,5)">&nbsp;
      <input type="button" value="Y (0,4)" onclick="zoomGraphY(0,4)">&nbsp;
      <input type="button" value="Y (2,4)" onclick="zoomGraphY(2,4)">&nbsp;
      <input type="button" value="Y (0,2)" onclick="zoomGraphY(0,2)">&nbsp;
      <input type="button" value="Y (0,1)" onclick="zoomGraphY(0,1)">&nbsp;
      <br>
	 </p>
-->

      <p>
        Synchronize what?
        <input type=checkbox id='chk-zoom' onChange='update()'><label for='chk-zoom'> Zoom</label>
        <input type=checkbox id='chk-selection' checked onChange='update()'><label for='chk-selection'> Selection</label>
      </p>

<!--    <p>g.visibility() = <span id="visibility"></span></p>	  -->
  </body>
</html>
